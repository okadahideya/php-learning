<?php

// 課題：以下の指示に従ってデータベース操作を実装してください

try {
    // 1. SQLiteデータベース「practice.db」に接続してください
    
    
    // 2. 「books」テーブルを作成してください
    // カラム: id(主キー), title(書籍名), author(著者), price(価格), published_year(出版年)
    
    
    // 3. 以下の書籍データを挿入してください
    $books = [
        ['PHPの基礎', '田中太郎', 2800, 2023],
        ['JavaScript入門', '佐藤花子', 3200, 2022],
        ['データベース設計', '山田次郎', 4500, 2024],
        ['Web開発実践', '鈴木三郎', 3800, 2023],
        ['プログラミング思考', '高橋四郎', 2500, 2021]
    ];
    
    // データ挿入のコードをここに書いてください
    
    
    // 4. 全書籍を取得して表示してください（価格の安い順）
    echo "=== 全書籍一覧（価格順） ===\n";
    
    
    // 5. 価格3000円以上の書籍を取得して表示してください
    echo "\n=== 3000円以上の書籍 ===\n";
    
    
    // 6. 2023年出版の書籍数をカウントしてください
    echo "\n=== 2023年出版の書籍数 ===\n";
    
    
    // 7. 最も高い書籍と最も安い書籍を取得してください
    echo "\n=== 最高価格と最低価格の書籍 ===\n";
    
    
    // 8. 「PHPの基礎」の価格を3000円に更新してください
    echo "\n=== 価格更新 ===\n";
    
    
    // 9. 2021年出版の書籍を削除してください
    echo "\n=== 古い書籍削除 ===\n";
    
    
    // 10. 著者別の書籍数と平均価格を取得してください
    echo "\n=== 著者別統計 ===\n";
    
    
} catch (PDOException $e) {
    echo "データベースエラー: " . $e->getMessage() . "\n";
}

?>